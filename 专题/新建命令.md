# 新建命令  

本章节中，将带您了解如何新建一个命令  

## 创建命令

在BlocklyNukkit中，我们使用`manager`基对象中的`createCommand`函数来创建新命令：  
**manager基对象**  
|方法名|参数|返回值|解释|
|-----|-----|-----|----|
|createCommand|String name,String des,String call|void|创建名称为name,描述为des的命令，回调函数的函数名为call|
|createCommand|String name,String des,String call,String per|void|同上，但是仅限有per权限的玩家可用|  

命令的回调函数需要接受两个参数，分别是[命令发出者](https://wiki.blocklynukkit.info/javadoc/cn.nukkit.command.CommandSender.html)和命令的参数，我们通常用`sender`和`args`来接收这两个参数。
[命令发出者](https://wiki.blocklynukkit.info/javadoc/cn.nukkit.command.CommandSender.html)是执行这个命令的事物的信息抽象，它**并不是**命令发出者本身！命令发出者可以是玩家、可以是控制台、也可以是远程命令(QQ群互动、某些mc面板)。
关于命令发出者对象的详细信息，点击“[命令发出者](https://wiki.blocklynukkit.info/javadoc/cn.nukkit.command.CommandSender.html)”跳转到javadoc。后面我们会详细讲述。  
命令的参数是一个由字符串组成的数组(python中称列表)，这个数组记录了玩家输入命令主名称后的内容。
每一条命令都由命令前缀、命令名称和命令参数三部分组成。  
命令前缀是指命令开头的`/`，控制台输入时无前缀。  
命令名称是命令的主要标识符，用于区分不同的命令，是每一条命令中第一个空格之前的、命令前缀之后的部分，如果没有空格的话，命令名称就是这条命令前缀之后的剩余部分。  
命令参数是除了上述两项之外剩余内容一个空格分割成的数组。  
举个例子：  
> /gamemode 1 Steve
> 命令前缀是`/`
> 命令名称是`gamemode`
> 命令参数是`"1","Steve"`

创建一个命令只需要调用`createCommand`即可，其中函数`myCommandCallbak`的名称可以是任意的：
{% capture create %} 
```javascript
function myCommandCallback(sender,args){
	console.log("命令被触发");
}
manager.createCommand("mycommand","我的测试命令","myCommandCallback");
```
---NEWTAB--- 
```python
def myCommandCallback(sender,args):
	logger.info(u"命令被触发")
manager.createCommand(u"mycommand",u"我的测试命令",u"myCommandCallback")
```
---NEWTAB--- 
```lua
function myCommandCallback(sender,args)  
    logger:info("命令被触发")
end
manager:createCommand("mycommand","我的测试命令","myCommandCallback")  
```
---NEWTAB--- 
```php
function myCommandCallback($sender,$args){
    echo "命令被触发"; 
}
$manager->createCommand("mycommand","我的测试命令","myCommandCallback");
```
{% endcapture %}
{% include tab.html tabId="create" tabTitles="JavaScript,Python,Lua,PHP" tabContents=create %}

