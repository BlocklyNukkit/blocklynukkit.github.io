# 自定义物品

本章节中，笔者将带您了解bn中自定义物品的功能。自定义物品将极大地丰富您服务器的游玩体验。

## 从简单物品开始

### 啥是简单物品？

简单物品，顾名思义，就是“非常简单的自定义物品”，简单物品就是游戏中最常见的那类物品，比如铁锭，萤石粉等等。

简单物品有以下特性：

- 无特殊值
- 没有耐久值
- 不能吃也不能穿

但是您可以为它们设置的内容有：

- 最大堆叠数量（默认64）
- 合成表
- 是否可以用副手拿
- 物品的id和名称（这必须的）
- 是否像工具一样持握
- 背包中显示的类别

### 准备材质

你需要自行绘制物品材质，推荐16x16大小。
有很多软件都可以用来绘制像素画，这里推荐一个在线网站，[pixilart](https://www.pixilart.com/draw)，可以在浏览器里面绘制像素画。

这里笔者绘制了一张金粉的图片，作为我们即将添加的物品的材质。
![图片][金粉]

将材质图片放到`./plugins/BlocklyNukkit/textures/gold_dust.png`路径上。

### 注册物品

接下来就是重头戏了，我们通过bn向服务器中注册金粉这个物品。
注册物品将用到`blockitem`基对象中的`registerSimpleItem`函数：

|函数名|参数|返回值|说明|
|-|-|-|-|
|registerSimpleItem|int id,String name,int stackSize,String type,boolean isDisplayAsTool,boolean canOnOffhand|void|注册自定义简单物品，id为新物品id，stackSize为最大堆叠数量，name为新物品注册名(仅小写英文和下划线),type为种类(可选construction nature equipment items)，canOnOffhand是否能装备在副手|

注册的新物品中，`id`最好限制在`1024-4096`。

{% capture registerSimpleItem %}  
```javascript
blockitem.registerSimpleItem(3800,  "gold_dust", 64, "items", false, false);
```  
---NEWTAB--- 
```python
blockitem.registerSimpleItem(3800,  "gold_dust", 64, "items", False, False);
```  
---NEWTAB---  
~~~lua
blockitem:registerSimpleItem(3800,  "gold_dust", 64, "items", false, false);
~~~  
---NEWTAB---  
~~~php
global $blockitem;
$blockitem->registerSimpleItem(3800,  "gold_dust", 64, "items", false, false);
~~~  
{% endcapture %}
{% include tab.html tabId="registerSimpleItem" tabTitles="JavaScript,Python,Lua,PHP" tabContents=registerSimpleItem %}

### 添加材质

物品注册完成后，需要为其添加材质，通过`blockitem`基对象中的`addItemTexture`函数完成：

|函数名|参数|返回值|说明|
|-|-|-|-|
|addItemTexture|int id,String path|void|添加新的物品材质，id为物品id，path为材质图片路径|

我们先前已经将金粉材质放到了`./plugins/BlocklyNukkit/textures/gold_dust.png`路径上，且金粉的注册id为`3800`，所以，代码应该这么写：

{% capture addSimpleItemTexture %}  
```javascript
blockitem.addItemTexture(3800,  "./plugins/BlocklyNukkit/textures/gold_dust.png");
```  
---NEWTAB--- 
```python
blockitem.addItemTexture(3800,  "./plugins/BlocklyNukkit/textures/gold_dust.png");
```  
---NEWTAB---  
~~~lua
blockitem:addItemTexture(3800,  "./plugins/BlocklyNukkit/textures/gold_dust.png");
~~~  
---NEWTAB---  
~~~php
global $blockitem;
$blockitem->addItemTexture(3800,  "./plugins/BlocklyNukkit/textures/gold_dust.png");
~~~  
{% endcapture %}
{% include tab.html tabId="addSimpleItemTexture" tabTitles="JavaScript,Python,Lua,PHP" tabContents=addSimpleItemTexture %}

### 添加物品名称翻译

物品添加完成之后，默认的物品名为`item.blocklynukkit:xxxx`显然这样的物品名显得十分不和谐，我们需要使用`blockitem`基对象下面的`addItemChineseTranslation`和`addItemEnglishTranslation`来为物品添加中文和英文的对应名称翻译：

|函数名|参数|返回值|说明|
|-|-|-|-|
|addItemChineseTranslation|int id,String name|void|为id物品添加中文翻译|
|addItemEnglishTranslation|int id,String name|void|为id物品添加英文翻译|

{% capture addSimpleItemTranslation %}  
```javascript
blockitem.addItemChineseTranslation(3800,  "金粉");
blockitem.addItemEnglishTranslation(3800,  "Gold Dust");
```  
---NEWTAB--- 
```python
blockitem.addItemChineseTranslation(3800,  "金粉");
blockitem.addItemEnglishTranslation(3800,  "Gold Dust");
```  
---NEWTAB---  
~~~lua
blockitem:addItemChineseTranslation(3800,  "金粉");
blockitem:addItemEnglishTranslation(3800,  "Gold Dust");
~~~  
---NEWTAB---  
~~~php
global $blockitem;
$blockitem->addItemChineseTranslation(3800,  "金粉");
$blockitem->addItemEnglishTranslation(3800,  "Gold Dust");
~~~  
{% endcapture %}
{% include tab.html tabId="addSimpleItemTranslation" tabTitles="JavaScript,Python,Lua,PHP" tabContents=addSimpleItemTranslation %}

## 自定义工具

工具，就不用多说了，大家都知道是啥，镐子、斧头、锄头、剑、铲子......

注册物品将用到`blockitem`基对象中的`registerToolItem`函数：

|函数名|参数|返回值|说明|
|-|-|-|-|
|registerToolItem|int id,String name,String toolType,int toolTier,int durability,int attackDamage,boolean canOnOffhand|void|注册自定义工具物品，id为新物品id，name为新物品注册名(仅小写英文和下划线),toolType为种类(可选sword shovel pickaxe axe hoe),toolTier挖掘等级(0-空手,1-木,2-金,3-石,4-铁,5-钻石,6-下界合金),durability为耐久值,attackDamage为攻击伤害|

### 注册工具物品

这里我想注册一个彩虹镐，挖掘等级和铁镐一样，攻击力为6，耐久为800，可以使用副手持握，示例代码如下：

{% capture registerToolItem %}  
```javascript
blockitem.registerToolItem(3801,  "rainbow_pickaxe", "pickaxe", 4, 800, 6, true);
```  
---NEWTAB--- 
```python
blockitem.registerToolItem(3801,  "rainbow_pickaxe", "pickaxe", 4, 800, 6, true);
```  
---NEWTAB---  
~~~lua
blockitem:registerToolItem(3801,  "rainbow_pickaxe", "pickaxe", 4, 800, 6, true);
~~~  
---NEWTAB---  
~~~php
global $blockitem;
$blockitem->registerToolItem(3801,  "rainbow_pickaxe", "pickaxe", 4, 800, 6, true);
~~~  
{% endcapture %}
{% include tab.html tabId="registerToolItem" tabTitles="JavaScript,Python,Lua,PHP" tabContents=registerToolItem %}

### 为工具添加材质和翻译
这里我画了一个彩虹镐，您可以按照简单物品的方法来为自定义工具添加材质和翻译，步骤完全一样，这里不再赘述：
![图片][彩虹镐]

### 注册自定义食物
如注册bn食物
blockitem.registerFoodItem(    2022,    "bncandy",    21,    3,    60,    true);blockitem.addItemTexture(2022, "./plugins/BlocklyNukkit/textures/bnCandy.png");
### 注册自定义饮品
如注册bn饮品
blockitem.registerDrinkItem(    2023,    "bndrink",    8,    2,    20,    true);blockitem.addItemTexture(2023, "./plugins/BlocklyNukkit/textures/bnDrink.png");
### 注册自定义盔甲
如
blockitem. registerArmorItem(2024, "bnchest", "chest", 2, 30, 12, true) ;

blockitem. addArmorTexture (2024, ". /plugins/BlocklyNukkit/ textures /bnChest . png"

, "./plugins/BlocklyNukkit/textures/armor1.png") ;

blockitem. addI temChineseTranslation(2024, "TE") ;

[彩虹镐]:data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA4ElEQVQ4T2NkoBAwUqifAasBGfMt/iMbPFnxK5jL6nAZQz2GAEjzH7v7cP0zf8vB2f9e/MAwiKALYLYzSXAwtPw5ytC45TrDvwp9uD6iwqAy1ON/U/ZThjaRs2AXIBtC0ACQZk6l8wxn9oozbAlZzFDvo0m8ASDNIpLSDAePnWbYdOYSI1PHxf9/d2xgOHbxIYP1+3lgy3G6ANlmkGaQ4qOCSf+t9OUJG4BuMywaiDIAm81EG4DLZuREBXIFzP8oYYDPZnzJHRw4xNiMyxCwAX4meuC0DwttUjIYwYREyDAAEPWEEY82F/kAAAAASUVORK5CYII=
[金粉]:data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAu0lEQVR42u2WSwqAMAxEPYageP9j6L4LD+Fa0JXYRSXKoAaCUj/x04FZCMo80gk2ioKCgjxVlrFb+j8ACGyadOXbQNQA2jY3ZOcyR67rdDSCqyoZfRmIGsAcPMnawpABgCMAwOkgagC8bH1fGDIPlgC6LjdkbxA1AGnN+LrhGaXko/c+kscA8DWTgPAeD3w/AD5EAEbNg3kJUb73AkggsDT6w+V7HIB08dhbttP+BeoAW0C3X83UAYI+pwHzNgI14yemsgAAAABJRU5ErkJggg==