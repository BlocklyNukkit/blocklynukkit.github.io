<script>
	function flushSummaryCollapse(first){
		function visit(parent){
			var childs = parent.children;
			if(parent.tagName=="LI" || parent.tagName=="li"){
				if(childs.length >= 2 && (childs[1].tagName=="UL" || childs[1].tagName=="ul")){
					var open = window.localStorage.getItem(childs[0].getAttribute("href"));
					if(open == null){open = false;}
					else if(open == "false"){open = false;}
					else if(open == "true"){open = true;}
					if(open){
						let span = document.createElement("span");
						span.innerText = "➖";
						parent.insertBefore(span,getDom(childs,"a"));
						span.addEventListener("click",function(event){
							window.localStorage.setItem(childs[0].getAttribute("href"),(!open)+"");
							if(open){
								getDom(childs,"span").innerText = "➖";
								$(getDom(childs,"ul")).hide(2000);
							}else{
								getDom(childs,"span").innerText = "➕";
								$(getDom(childs,"ul")).show(2000);
							}
						})
					}else{
						let span = document.createElement("span");
						span.innerText = "➕";
						parent.insertBefore(span,getDom(childs,"a"));
						$(getDom(childs,"ul")).hide(0);
						span.addEventListener("click",function(event){
							window.localStorage.setItem(childs[0].getAttribute("href"),(!open)+"");
							if(open){
								getDom(childs,"span").innerText = "➖";
								$(getDom(childs,"ul")).hide(2000);
							}else{
								getDom(childs,"span").innerText = "➕";
								$(getDom(childs,"ul")).show(2000);
							}
						});
					}
				}
			}
			if(childs.length!=0){
				for(let i=0;i<childs.length;i++){
					visit(childs[i]);
				}
			}
		};
		function getDom(fromArray,tag){
			for(let i=0;i<fromArray.length;i++){
				if(fromArray.tagName.toUpperCase() == tag.toUpperCase()){
					return fromArray[i];
				}
			}
			return null;
		}
		visit(document.getElementById("summaryContent"))
	}
	// $(function(){
	// 	flushSummaryCollapse(true);
	// });
</script>